<div class="p-6 max-w-4xl mx-auto">
    <div class="flex items-center mb-8">
        <button class="text-blue-600 hover:underline flex items-center gap-2">
        </button>
        <h1 class="text-2xl font-bold text-gray-800 ml-4">Financial Details</h1>
    </div>

    <div class="bg-white border border-gray-200 rounded-2xl p-6 shadow-sm mb-6">
        <div class="flex items-center gap-3 mb-4">
            <div class="p-2 bg-green-100 rounded-lg">
                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z">
                    </path>
                </svg>
            </div>
            <h2 class="text-lg font-semibold">Bank Account Details</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
                <p class="text-gray-500">Bank Name</p>
                <p class="font-medium text-gray-800">{{ bankInfo().bankName }}</p>
            </div>
            <div>
                <p class="text-gray-500">Account Number</p>
                <p class="font-medium text-gray-800">{{ bankInfo().accountNumber }}</p>
            </div>
        </div>
    </div>

    <div class="bg-white border border-gray-200 rounded-2xl p-6 shadow-sm">
        <h2 class="text-lg font-semibold mb-6">Monthly Pay-slip</h2>

        <div class="flex flex-wrap gap-4 mb-8">
            <div class="w-full md:w-40">
                <label class="block mb-2 text-sm font-medium text-gray-700">Select Year</label>
                <select [(ngModel)]="selectedYear" (change)="onFilterChange()"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                    @for (year of years; track year) {
                    <option [value]="year">{{year}}</option>
                    }
                </select>
            </div>
        
            <div class="w-full md:w-40">
                <label class="block mb-2 text-sm font-medium text-gray-700">Select Month</label>
                <select [(ngModel)]="selectedMonth" (change)="onFilterChange()"
                    class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                    @for (month of months; track month) {
                    <option [value]="month">{{month}}</option>
                    }
                </select>
            </div>
        
            <div class="mt-auto py-2">
                <p class="text-xs text-gray-400 italic">Showing data for: {{selectedMonth()}} {{selectedYear()}}</p>
            </div>
        </div>

        <div class="relative overflow-x-auto border rounded-xl">
            <table class="w-full text-sm text-left text-gray-500">
                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                    <tr>
                        <th class="px-6 py-3">Description</th>
                        <th class="px-6 py-3 text-right">Amount (EGP)</th>
                    </tr>
                </thead>
                <tbody class="divide-y">
                    <tr>
                        <td class="px-6 py-4">Basic Salary</td>
                        <td class="px-6 py-4 text-right font-medium text-gray-900">{{ payslipDetails().basic }}</td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 text-gray-600">Allowances (بدلات)</td>
                        <td class="px-6 py-4 text-right font-medium text-green-600">+{{ payslipDetails().allowances }}
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 text-gray-600">Deductions (استقطاعات)</td>
                        <td class="px-6 py-4 text-right font-medium text-red-600">-{{ payslipDetails().deductions }}
                        </td>
                    </tr>
                    <tr class="bg-blue-50">
                        <td class="px-6 py-4 font-bold text-blue-800">Net Salary (الصافي)</td>
                        <td class="px-6 py-4 text-right font-bold text-blue-800">{{ payslipDetails().net }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>